<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Payment Confirm</title>
<!-- css -->
<link th:replace="user/layout/assets :: css" />
</head>
<body>

	<!-- header -->
	<div th:replace="user/layout/assets :: header"></div>

	<!-- Breadcrumb Section Begin -->
	<section class="breadcrumb-section set-bg"
		th:data-setbg="@{/client/img/breadcrumb.jpg}">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 text-center">
					<div class="breadcrumb__text">
						<h2>Shopping Payment</h2>
						<div class="breadcrumb__option">
							<a href="/cart">Cart</a> <span>Payment</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Breadcrumb Section End -->

	<div class=" d-flex justify-content-center my-5">
		
		<div id="paypal-button-container" style="width:400px"></div>
	</div>

	<!-- js files  -->
	<script th:replace="user/layout/assets :: js"></script>
	<script
		src="https://www.paypal.com/sdk/js?client-id=AX5zEgyqv4j6ahuYoF4-Xzpw89fwIk38P1lGa8oKDDI35RYoOE-BwTa9MOjicsjboxGaWPH11zOJIRIa"></script>

	<script>
	var totalPrice = document.querySelector(".cart_header_price").innerHTML;
		paypal.Buttons(
				{
					createOrder : function(data, actions) {
						// Set up the transaction details and return the order ID
						return actions.order.create({
							purchase_units : [ {
								intent: 'CAPTURE', //capture payment from buyer
								amount : {
									value : totalPrice, // Set the amount to be charged
								}
							} ]
						});
					},
					onApprove : function(data, actions) {
						// Capture the funds when the user approves the payment
						return actions.order.capture().then(
								function(details) {
									console.log(details);
									var orderId = details.id;
									status = details.status;
									// Handle the successful payment, e.g., update your backend with the transaction details
									console.log('Transaction completed by '
											+ details.payer.name.given_name);
									alert("Thanks your order..!");
								});
					},
					onCancel : function(data){
						alert("payment cancaled..")
					}
					
				}).render('#paypal-button-container');
	</script>

</body>
</html>